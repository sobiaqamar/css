!function(){"use strict";var r,o=function(){return(o=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},i={DEFAULT_SCROLL_VALUE:50,POST_CLICK_CDN_URL:"https://ads-engagement.presage.io"};function c(n){return void 0===n&&(n=""),function(n){void 0===n&&(n="");var e=n.length-1;return"/"===n.charAt(e)?n.slice(0,e):n}(function(n){return void 0===n&&(n=""),"/"===n.charAt(0)?n.slice(1,n.length):n}(n))}function u(){if(!r){var n=document.querySelector('script[src^="'+i.POST_CLICK_CDN_URL+'"]'),e={};n&&(e=function(n){var e=n.split("?")[1];return e?e.split("&").reduce(function(e,n){var r=n.split("="),t=r[0],o=r[1];try{e[t]=JSON.parse(o)}catch(n){e[t]=o}return e},{}):{}}(n.src)),r=o({currentUrl:window.location.href||document.URL||"",scrollTo:i.DEFAULT_SCROLL_VALUE},e)}return r}var l=function(n,e){if(void 0===e&&(e=3),0<e){var r=new Image;r.onerror=function(){return setTimeout(function(){return l(n,e-1)},100)},r.src=n}};function t(n,e){void 0===e&&(e={});var r=u(),t=o({e:n,site:r.site,t:(new Date).getTime()},e,{full_url:e.full_url||r.currentUrl});l(function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.map(c).filter(function(n){return n}).join("/").replace("/?","?")}(i.POST_CLICK_CDN_URL,"pixel",function(e){var n=Object.keys(e).map(function(n){return e[n]?n+"="+encodeURIComponent(e[n]):""}).filter(function(n){return n}).join("&");return n?"?"+n:""}(t)))}function n(n){var e=n&&n.target||{};t("click",{id:function(n){return n?n.toLowerCase():""}(e.nodeName)+function(n){return n?"#"+n:""}(e.id)+function(n){return n?"."+n.replace(/ /g,"."):""}(e.className)||"unknown"})}function e(){var n=u();!window.ogyScrollSent&&(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>=n.scrollTo&&(window.ogyScrollSent=!0,t("scroll"))}window.ogyPageviewSent=!1,window.ogyScrollSent=!1,window.ogyPageviewSent||(window.ogyPageviewSent=!0,t("pv")),window.addEventListener("scroll",e),document.addEventListener("click",n)}();
